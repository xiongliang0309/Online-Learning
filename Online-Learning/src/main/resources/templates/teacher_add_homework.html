<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>教师-发布作业 </title>

    <!-- Bootstrap -->
    <link th:href="@{/vendors/bootstrap/dist/css/bootstrap.min.css}" rel="stylesheet">
    <!-- Font Awesome -->
    <link th:href="@{/vendors/font-awesome/css/font-awesome.min.css}" rel="stylesheet">
    <!-- NProgress -->
    <link th:href="@{/vendors/nprogress/nprogress.css}" rel="stylesheet">
    <!-- iCheck -->
    <link th:href="@{/vendors/iCheck/skins/flat/green.css}" rel="stylesheet">
    <!-- Datatables -->
    <link th:href="@{/vendors/datatables.net-bs/css/dataTables.bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/vendors/datatables.net-buttons-bs/css/buttons.bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/vendors/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/vendors/datatables.net-responsive-bs/css/responsive.bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/vendors/datatables.net-scroller-bs/css/scroller.bootstrap.min.css}" rel="stylesheet">

    <!-- Custom Theme Style -->
    <link th:href="@{/build/css/custom.min.css}" rel="stylesheet">
</head>

<body class="nav-md">
<div class="container body">
    <div class="main_container">
        <div class="col-md-3 left_col">
            <div class="left_col scroll-view">
                <div class="navbar nav_title" style="border: 0;">
                    <a href="/teacher" class="site_title"><i class="fa fa-home"></i> <span>网络教学辅助平台</span></a>
                </div>

                <div class="clearfix"></div>

                <!-- menu profile quick info -->
                <div class="profile clearfix">
                    <div class="profile_pic">
                        <img th:src="${session.admin.icon}" alt="..." class="img-circle profile_img">
                    </div>
                    <div class="profile_info">
                        <span>欢迎使用！</span>
                        <h2 th:text="${session.admin.name}"></h2>
                    </div>
                </div>
                <!-- /menu profile quick info -->

                <br />

                <!-- sidebar menu -->
                <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
                    <div class="menu_section">
                        <h3>基础功能</h3>
                        <ul class="nav side-menu">
                            <li><a href="/teacher"><i class="fa fa-home"></i> 系统总览 <i class="fa fa-angle-right" style="float: right"></i> </a></li>
                            <li><a href="/teacher_course"><i class="fa fa-book"></i> 我的课程<i class="fa fa-angle-right" style="float: right"></i> </a></li>
                            <li><a href="/teacher_self_info"><i class="fa fa-cogs"></i> 个人信息 <i class="fa fa-angle-right" style="float: right"></i> </a></li>
                        </ul>
                    </div>

                    <div class="menu_section">
                        <h3>作业管理</h3>
                        <ul class="nav side-menu">

                            <li><a href="/teacher_check_homework"><i class="fa fa-user"></i> 批改作业 <i class="fa fa-angle-right" style="float: right"></i> </a></li>

                            <li><a href="/teacher_studydata"><i class="fa fa-laptop"></i> 学习资料<i class="fa fa-angle-right" style="float: right"></i>  </a></li>
                        </ul>
                    </div>

                    <div class="menu_section">
                        <h3>学生管理</h3>
                        <ul class="nav side-menu">
                            <li><a href="/teacher_update_student"><i class="fa fa-home"></i> 加入学生 <i class="fa fa-angle-right" style="float: right"></i> </a></li>

                            <li><a href="/teacher_notice"><i class="fa fa-check"></i> 发布通知<i class="fa fa-angle-right" style="float: right"></i>  </a></li>

                            <li><a href="/teacher_calculate"><i class="fa fa-list-ul"></i> 统计成绩 <i class="fa fa-angle-right" style="float: right"></i> </a></li>
                        </ul>
                    </div>

                    <div class="menu_section">
                        <h3>教学论坛</h3>
                        <ul class="nav side-menu">
                            <li><a href="/teacher_discuss"><i class="fa fa-pencil"></i> 论坛中心 <i class="fa fa-angle-right" style="float: right"></i> </a></li>
                            <li><a href="/teacher_mydiscuss"><i class="fa fa-calendar"></i> 我的论坛 <i class="fa fa-angle-right" style="float: right"></i> </a></li>
                        </ul>
                    </div>

                </div>
                <!-- /sidebar menu -->

            </div>
        </div>

        <!-- top navigation -->
        <div class="top_nav">
            <div class="nav_menu">
                <nav>
                    <div class="nav toggle">
                        <a id="menu_toggle"><i class="fa fa-bars"></i></a>
                    </div>

                    <ul class="nav navbar-nav navbar-right">
                        <li class="">
                            <a href="javascript:;" class="user-profile dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                                <img th:src="${session.admin.icon}" alt="" ><span th:text="${session.admin.name}"></span>
                                <span class=" fa fa-angle-down"></span>
                            </a>
                            <ul class="dropdown-menu dropdown-usermenu pull-right">
                                <li><a href="/teacher_self_info"> 个人信息</a></li>

                                <li><a href="/teacher_help"> 使用帮助</a></li>

                                <li><a href="/login"><i class="fa fa-sign-out pull-right"></i> 注销登录</a></li>
                            </ul>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
        <!-- /top navigation -->

        <!-- page content -->
        <div class="right_col" role="main">
            <div class="">
                <div class="page-title">
                    <div class="title_left">
                        <h3>我的作业管理</h3>
                    </div>

                </div>
                <div class="clearfix"></div>

                <div class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="x_panel">
                            <div class="x_title">
                                <h2>发布新的作业</h2>

                                <!--模态框-->
                                <a data-toggle="modal" data-target="#choice" href="" style="float: right; margin-top: 4px;"><button class="btn btn-primary"><i class="fa fa-check"> </i> 选择题</button></a>
                                <a data-toggle="modal" data-target="#fill" href="" style="float: right; margin-top: 4px;"><button class="btn btn-info"><i class="fa fa-pencil"> </i> 填空题</button></a>
                                <a data-toggle="modal" data-target="#program" href="" style="float: right; margin-top: 4px;"><button class="btn btn-warning"><i class="fa fa-folder"> </i> 设计题</button></a>

                                <!--选择题-->
                                <div id="choice" class="modal fade">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-body">
                                                <button class="close" data-dismiss="modal">
                                                    <span>&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-title">
                                                <h1 class="text-center">选择题</h1>
                                            </div>
                                            <div class="modal-body">
                                                <form class="form-group" th:action="@{/teacherAddChoice.action}" method="POST">
                                                    <div class="form-group">
                                                        <label for="choicetitle" class="sr-only">题干</label>
                                                        <input class="form-control" type="text" placeholder="题干" id="choicetitle" name="choicetitle">
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="choicea" class="sr-only">选项A</label>
                                                        <input class="form-control" type="text" placeholder="选项A" id="choicea" name="choicea">
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="choicea" class="sr-only">选项B</label>
                                                        <input class="form-control" type="text" placeholder="选项B" id="choiceb" name="choiceb">
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="choicea" class="sr-only">选项C</label>
                                                        <input class="form-control" type="text" placeholder="选项C" id="choicec" name="choicec">
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="choicea" class="sr-only">选项D</label>
                                                        <input class="form-control" type="text" placeholder="选项D" id="choiced" name="choiced">
                                                    </div>
                                                    <div class="form-group" style="display: none">
                                                        <label for="kechenid" class="sr-only">kechenid</label>
                                                        <input class="form-control" type="text" placeholder="kechenid" id="kechenid" name="kechenid" th:value="${chapter.kechenid}">
                                                    </div>
                                                    <div class="form-group" style="display: none">
                                                        <label for="chapterid" class="sr-only">chapterid</label>
                                                        <input class="form-control" type="text" placeholder="chapterid" id="chapterid" name="chapterid" th:value="${chapter.chapterid}">
                                                    </div>

                                                    <div class="text-right">
                                                        <button class="btn btn-primary" type="submit" onclick="return check()">添加</button>
                                                        <button class="btn btn-danger" data-dismiss="modal">取消</button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--填空题-->
                                <div id="fill" class="modal fade">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-body">
                                                <button class="close" data-dismiss="modal">
                                                    <span>&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-title">
                                                <h1 class="text-center">填空题</h1>
                                            </div>
                                            <div class="modal-body">
                                                <form class="form-group" th:action="@{/teacherAddFill.action}" method="POST">
                                                    <div class="form-group">
                                                        <label for="fillcontent">题干</label>
                                                        <textarea class="form-control" type="text" placeholder="" id="fillcontent" name="fillcontent" rows="5"></textarea>
                                                    </div>
                                                    <div class="form-group" style="display: none">
                                                        <label for="kechenid1" class="sr-only">kechenid</label>
                                                        <input class="form-control" type="text" placeholder="kechenid" id="kechenid1" name="kechenid1" th:value="${chapter.kechenid}">
                                                    </div>
                                                    <div class="form-group" style="display: none">
                                                        <label for="chapterid1" class="sr-only">chapterid</label>
                                                        <input class="form-control" type="text" placeholder="chapterid" id="chapterid1" name="chapterid1" th:value="${chapter.chapterid}">
                                                    </div>
                                                    <div class="text-right">
                                                        <button class="btn btn-primary" type="submit" onclick="return check1()">添加</button>
                                                        <button class="btn btn-danger" data-dismiss="modal">取消</button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--设计题-->
                                <div id="program" class="modal fade">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-body">
                                                <button class="close" data-dismiss="modal">
                                                    <span>&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-title">
                                                <h1 class="text-center">设计题</h1>
                                            </div>
                                            <div class="modal-body">
                                                <form class="form-group" th:action="@{/teacherAddProgram.action}" method="POST">
                                                    <div class="form-group">
                                                        <label for="fillcontent">题干</label>
                                                        <textarea class="form-control" type="text" placeholder="" id="programcontent" name="programcontent" rows="5"></textarea>
                                                    </div>
                                                    <div class="form-group" style="display: none">
                                                        <label for="kechenid2" class="sr-only">kechenid</label>
                                                        <input class="form-control" type="text" placeholder="kechenid" id="kechenid2" name="kechenid2" th:value="${chapter.kechenid}">
                                                    </div>
                                                    <div class="form-group" style="display: none">
                                                        <label for="chapterid2" class="sr-only">chapterid</label>
                                                        <input class="form-control" type="text" placeholder="chapterid" id="chapterid2" name="chapterid2" th:value="${chapter.chapterid}">
                                                    </div>
                                                    <div class="text-right">
                                                        <button class="btn btn-primary" type="submit" onclick="return check2()">添加</button>
                                                        <button class="btn btn-danger" data-dismiss="modal">取消</button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--模态框-->

                            <div class="clearfix"></div>
                            </div>

                           <!--选择题-->
                            <div class="x_content" >
                                <h2>一：选择题</h2>
                                <hr>
                                <div class="col-md-10 col-md-offset-1" th:each="choiceList:${choiceList}" th:if="${choiceList.kechenid==chapter.kechenid&&choiceList.chapterid==chapter.chapterid}">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="x_panel">
                                                <div >
                                                    <div th:text="'题干：'+${choiceList.choicetitle}" style="text-indent: 2em; line-height: 30px"></div>
                                                    <a th:href="@{/teacherDeleteChoice(choiceid=${choiceList.choiceid},chapterid=${choiceList.chapterid},kechenid=${choiceList.kechenid})}"><button class="btn btn-xs btn-dark" style="float:right; margin-top:-30px;" onclick="return del()">删除</button></a>
                                                    <div th:text="'A:'+${choiceList.choicea}" style="text-indent: 2em; line-height: 30px"></div>
                                                    <div th:text="'B:'+${choiceList.choiceb}" style="text-indent: 2em; line-height: 30px"></div>
                                                    <div th:text="'C:'+${choiceList.choicec}" style="text-indent: 2em; line-height: 30px"></div>
                                                    <div th:text="'D:'+${choiceList.choiced}" style="text-indent: 2em; line-height: 30px"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                             <!--填空题-->
                            <div class="x_content" >
                                <h2>二：填空题</h2>
                                <hr>
                                <div class="col-md-10 col-md-offset-1" th:each="fillList:${fillList}" th:if="${fillList.kechenid==chapter.kechenid&&fillList.chapterid==chapter.chapterid}">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="x_panel">
                                                <div >
                                                    <div th:text="'题干：'+${fillList.fillcontent}" style="text-indent: 2em; line-height: 30px"></div>
                                                    <a th:href="@{/teacherDeleteFill(fillid=${fillList.fillid},chapterid=${fillList.chapterid},kechenid=${fillList.kechenid})}"><button class="btn btn-xs btn-dark" style="float:right; margin-top:-30px;" onclick="return del()">删除</button></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!--填空题-->
                            <div class="x_content" >
                                <h2>三：设计题</h2>
                                <hr>
                                <div class="col-md-10 col-md-offset-1" th:each="programList:${programList}" th:if="${programList.kechenid==chapter.kechenid&&programList.chapterid==chapter.chapterid}">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="x_panel">
                                                <div >
                                                    <div th:text="'题干：'+${programList.programcontent}" style="text-indent: 2em; line-height: 30px"></div>
                                                    <a th:href="@{/teacherDeleteProgram(programid=${programList.programid},chapterid=${programList.chapterid},kechenid=${programList.kechenid})}"><button class="btn btn-xs btn-dark" style="float:right; margin-top:-30px;" onclick="return del()">删除</button></a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>
                </div>
            </div>
        </div>
        </div>

        <!-- /page content -->

        <!-- footer content -->
        <footer>
            <div class="pull-right">
                高校网络教学辅助平台 - 南昌航空大学
            </div>
            <div class="clearfix"></div>
        </footer>
        <!-- /footer content -->
    </div>
</div>


<script>
    function check() {
        var choicetitle=document.getElementById('choicetitle').value.replace(/(^\s*)|(\s*$)/g, '');
        var choicea=document.getElementById('choicea').value.replace(/(^\s*)|(\s*$)/g, '');
        var choiceb=document.getElementById('choiceb').value.replace(/(^\s*)|(\s*$)/g, '');
        var choicec=document.getElementById('choicec').value.replace(/(^\s*)|(\s*$)/g, '');
        var choiced=document.getElementById('choiced').value.replace(/(^\s*)|(\s*$)/g, '');

        if(choicetitle==''||choicetitle==undefined||choicetitle==null||choicea==''||choicea==undefined||choicea==null
            ||choiceb==''||choiceb==undefined||choiceb==null||choicec==''||choicec==undefined||choicec==null
        ||choiced==''||choiced==undefined||choiced==null)
        {
            alert("请将信息填写完整！！！");
            return false;
        }
        else
            return true;
    }

    function check1() {
        var fillcontent=document.getElementById('fillcontent').value.replace(/(^\s*)|(\s*$)/g, '');

        if(fillcontent==''||fillcontent==undefined||fillcontent==null)
        {
            alert("请将信息填写完整！！！");
            return false;
        }
        else
            return true;
    }

    function check2() {
        var programcontent=document.getElementById('programcontent').value.replace(/(^\s*)|(\s*$)/g, '');

        if(programcontent==''||programcontent==undefined||programcontent==null)
        {
            alert("请将信息填写完整！！！");
            return false;
        }
        else
            return true;
    }


    function del() {
        if (confirm("您确定要删除吗？")) {
            return true;
        } else {
            return false;
        }
    }
</script>

<!-- jQuery -->
<script th:src="@{/vendors/jquery/dist/jquery.min.js}"></script>
<!-- Bootstrap -->
<script th:src="@{/vendors/bootstrap/dist/js/bootstrap.min.js}"></script>
<!-- FastClick -->
<script th:src="@{/vendors/fastclick/lib/fastclick.js}"></script>
<!-- NProgress -->
<script th:src="@{/vendors/nprogress/nprogress.js}"></script>
<!-- iCheck -->
<script th:src="@{/vendors/iCheck/icheck.min.js}"></script>
<!-- Datatables -->
<script th:src="@{/vendors/datatables.net/js/jquery.dataTables.min.js}"></script>
<script th:src="@{/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js}"></script>
<script th:src="@{/vendors/datatables.net-buttons/js/dataTables.buttons.min.js}"></script>
<script th:src="@{/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js}"></script>
<script th:src="@{/vendors/datatables.net-buttons/js/buttons.flash.min.js}"></script>
<script th:src="@{/vendors/datatables.net-buttons/js/buttons.html5.min.js}"></script>
<script th:src="@{/vendors/datatables.net-buttons/js/buttons.print.min.js}"></script>
<script th:src="@{/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js}"></script>
<script th:src="@{/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js}"></script>
<script th:src="@{/vendors/datatables.net-responsive/js/dataTables.responsive.min.js}"></script>
<script th:src="@{/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js}"></script>
<script th:src="@{/vendors/datatables.net-scroller/js/dataTables.scroller.min.js}"></script>
<script th:src="@{/vendors/jszip/dist/jszip.min.js}"></script>
<script th:src="@{/vendors/pdfmake/build/pdfmake.min.js}"></script>
<script th:src="@{/vendors/pdfmake/build/vfs_fonts.js}"></script>

<!-- Custom Theme Scripts -->
<script th:src="@{/build/js/custom.min.js}"></script>

</body>
</html>
